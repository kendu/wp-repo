#!/bin/bash

################################################################################
#                                                                              #
#                                 {o,o}                                        #
#                                 |)__)                                        #
#                                 -"-"-                                        #
#                                                                              #
################################################################################
#
#The script to run this project with on development env..
#
###############################---WORKDIR---####################################

cd $( dirname $0 )

################################################################################

##############################---FUNCTIONS---###################################

function fixPermissions() {
    docker-compose run builder \
        bash -c "sudo find wp/ -type d -exec chmod 775 {} \;
        sudo find wp/ -type f -exec chmod 664 {} \;
        sudo chown -R 33:$( id -u ${USER} ) wp/"
}

################################################################################

###############################---EXECUTION---##################################

#Bring containers UP
docker-compose up -d --no-recreate

fixPermissions

################################################################################
